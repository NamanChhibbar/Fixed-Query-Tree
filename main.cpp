#include "headers.hpp"

int main() {

    FQT::Data pivots[10];
    for (int i = 0; i < len(pivots); i++) {
        pivots[i] = FQT::Data(i * 5);
    }
    FQT tree(pivots, len(pivots));
    
    FQT::Data data[100] = {
        62.9, 99.51, 43.82, 71.49, 5.08, 65.48, 36.27, 70.26, 28.49, 78.31, 81.6, 
        6.1, 93.55, 53.44, 84.57, 74.77, 32.45, 71.57, 65.99, 71.31, 5.81, 67.73, 
        43.48, 10.7, 38.5, 66.79, 67.9, 48.76, 87.9, 51.97, 77.86, 82.35, 44.8, 35.71, 
        21.04, 83.37, 68.49, 5.61, 92.52, 76.43, 72, 77.17, 2.46, 48.48, 45.61, 25.39, 
        49.03, 19.46, 11.09, 14.77, 83.9, 1.28, 11.49, 55.44, 15.24, 39.38, 56.71, 
        28.51, 29.06, 35.84, 54.9, 84.19, 5.19, 88.66, 34.26, 69.03, 76.54, 40.97, 
        77.93, 29.13, 60.68, 71.17, 80.35, 15.93, 8.69, 74.29, 65.81, 46.19, 31.26, 
        18.21, 35.79, 77.27, 23.45, 83.16, 73.83, 40.31, 47.98, 96.37, 69.08, 33.83, 
        38.75, 15.06, 5.49, 48.4, 53.45, 34.32, 36.12, 34.98, 1.26, 82.62
    };

    for (int i = 0; i < len(data); i++) {
        tree.add(data[i]);
    }

    FQT::Data query = FQT::Data(10); long radius = 1;

    DataList &list = tree.search(query, radius);
    for (int i = 0; i < list.size(); i++) {
        cout << list[i]->data << endl;
    }
    delete(&list);
    return 0;
}
